# ðŸ“Š BankFlow DAE Simulation  
> **ìœ ì € í–‰ë™ ê¸°ë°˜ DW êµ¬ì¶• ë° ë¶„ì„ í™˜ê²½ ì„¤ê³„**

## dataset(https://huggingface.co/datasets/ai-lab/MBD)
#  Multimodal Banking Dataset (MBD)

| íŒŒì¼ëª…                | ìš©ëŸ‰      | ì„¤ëª…                                      | ë¹„ê³                            |
|-----------------------|-----------|-------------------------------------------|--------------------------------|
| `detail.tar.gz`       | **38.2GB** | ê±°ëž˜, ìœ„ì¹˜, ìƒë‹´ ë“± ì›ì‹œ ë¡œê·¸ ì „ì²´        | âœ…  DAE ì‹¤ìŠµì˜ í•µì‹¬ ë°ì´í„° |
| `client_split.tar.gz` | **39MB**   | í´ë¼ì´ì–¸íŠ¸ë³„ Fold/ìƒ˜í”Œ ì •ë³´               | âœ… í•„ìˆ˜ (CV, joinìš©)           |
| `targets.tar.gz`      | **62MB**   | ì˜ˆì¸¡ ë¼ë²¨ ë° ë¶€ê°€ ì§€í‘œ í¬í•¨               | âœ… KPI, supervised ë¶„ì„ìš©      |
| `ptls.tar.gz`         | **30.7GB** | ë²¡í„° ìž„ë² ë”© í¬í•¨ëœ ëª¨ë¸ ìž…ë ¥ìš© êµ¬ì¡°       | âŒ  DAE ëª©ì ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ |

-> 60ê¸°ê°€ë§Œ ë¹Œë ¸ëŠ”ë°, ìš©ëŸ‰ ì»¨íŠ¸ë¡¤ì´ ê´€ê±´

## ðŸ“Œ ë°ì´í„°ì…‹ ê°œìš”

Multimodal Banking Dataset(MBD)ì€ **ì€í–‰ ê³ ê°ì˜ ê±°ëž˜/ìœ„ì¹˜/ìƒë‹´ ì´ë ¥ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ**,  
**í–¥í›„ 1ê°œì›” ë‚´ ê¸ˆìœµìƒí’ˆ êµ¬ë§¤ ê°€ëŠ¥ì„±ì„ ì˜ˆì¸¡**í•˜ëŠ” ëª©ì ì˜ ëŒ€ê·œëª¨ ë©€í‹°ëª¨ë‹¬ ë°ì´í„°ì…‹

12ê°œì›”ê°„ì˜ ì‹¤ì œ ë¡œê·¸ ê¸°ë°˜ ë°ì´í„°ë¡œ êµ¬ì„±ë˜ì–´ ìžˆìœ¼ë©°, ëª¨ë“  ì •ë³´ëŠ” ìµëª…í™”

> TDAE ì‹¤ìŠµì„ ìœ„í•œ ëª©ì ì— ë§žì¶° ë²¡í„° ìž„ë² ë”©ì„ ì œì™¸í•œ **ë°ì´í„° ì²˜ë¦¬, ë¶„ì„, ë§ˆíŠ¸ ì„¤ê³„** ì¤‘ì‹¬ìœ¼ë¡œ ê°€ì ¸ì˜´(ìž„ë² ë”© ì œì™¸)

---


## ðŸ§± ì£¼ìš” ë°ì´í„° êµ¬ì„±

### âœ… client_split

| ì»¬ëŸ¼ëª…        | ì„¤ëª…                                  |
|---------------|---------------------------------------|
| `client_id`   | í´ë¼ì´ì–¸íŠ¸ ê³ ìœ  ì‹ë³„ìž                 |
| `fold`        | 5-Fold êµì°¨ê²€ì¦ìš© ê·¸ë£¹ ë²ˆí˜¸             |
| `is_balanced` | ê· í˜• ìƒ˜í”Œ ì—¬ë¶€ (1ì´ë©´ ê· í˜• í¬í•¨ í´ë¼ì´ì–¸íŠ¸) |

---

### âœ… detail

#### ðŸ”¹ trx: ê±°ëž˜ ì´ë ¥

| ì»¬ëŸ¼ëª…        | ì„¤ëª…                        |
|---------------|-----------------------------|
| `client_id`   | ê³ ê° ID                     |
| `event_time`  | ê±°ëž˜ ë°œìƒ ì‹œì                |
| `amount`      | ê±°ëž˜ ê¸ˆì•¡                   |
| `event_type`  | ê±°ëž˜ ìœ í˜•                   |
| `currency`    | í†µí™” êµ¬ë¶„                   |
| `src_*`, `dst_*` | ì†¡ì‹ /ìˆ˜ì‹ ìžì˜ íŠ¹ì„± ì •ë³´ ë‹¤ìˆ˜ í¬í•¨ |
| `fold`, `is_balanced` | Fold ë° ìƒ˜í”Œ êµ¬ë¶„ ì •ë³´ |

---

#### ðŸ”¹ geo: ìœ„ì¹˜ ì •ë³´ (Geohash ê¸°ë°˜)

| ì»¬ëŸ¼ëª…        | ì„¤ëª…                      |
|---------------|---------------------------|
| `client_id`   | ê³ ê° ID                   |
| `event_time`  | ì´ë²¤íŠ¸ ë°œìƒ ì‹œì           |
| `geohash_4~6` | ì§€ì—­ ì •ë°€ë„ë³„ ìœ„ì¹˜ ì½”ë“œ   |
| `fold`, `is_balanced` | Fold ë° ìƒ˜í”Œ êµ¬ë¶„ ì •ë³´ |

---

#### ðŸ”¹ dialog: ìƒë‹´ ì´ë ¥ (ë²¡í„° ì œì™¸)

| ì»¬ëŸ¼ëª…        | ì„¤ëª…                       |
|---------------|----------------------------|
| `client_id`   | ê³ ê° ID                    |
| `event_time`  | ëŒ€í™” ë°œìƒ ì‹œì              |
| (ìž„ë² ë”©ì€ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ) | â€“               |
| `fold`, `is_balanced` | Fold ë° ìƒ˜í”Œ êµ¬ë¶„ ì •ë³´ |

---

### âœ… targets (ì˜ˆì¸¡ ë¼ë²¨ ë° ë³´ì¡° ì§€í‘œ)

| ì»¬ëŸ¼ëª…            | ì„¤ëª…                                      |
|-------------------|-------------------------------------------|
| `client_id`       | ê³ ê° ID                                   |
| `mon`             | ë³´ê³  ê¸°ì¤€ ì›”                              |
| `target_1~4`      | ê° ê¸ˆìœµìƒí’ˆì— ëŒ€í•œ êµ¬ë§¤ ì—¬ë¶€ (0 ë˜ëŠ” 1)     |
| `trans_count`     | ì›” ê¸°ì¤€ ê±°ëž˜ íšŸìˆ˜                          |
| `diff_trans_date` | ê±°ëž˜ ê°„ í‰ê·  ì‹œê°„ ê°„ê²©                     |
| `fold`, `is_balanced` | Fold ë° ìƒ˜í”Œ êµ¬ë¶„ ì •ë³´                  |

â†’ ì˜ˆì¸¡ìš© ë¼ë²¨ ë° íŠ¹ì„± ì¡°í•© ê¸°ë°˜ KPI ì •ì˜ ê°€ëŠ¥  
â†’ ì „í™˜ìœ¨, ìƒí’ˆë³„ êµ¬ë§¤ìœ¨ ë“±ìœ¼ë¡œ ë§ˆíŠ¸ ì„¤ê³„

---

## ëª©ì  

ìœ ì € í–‰ë™ ê¸°ë°˜ ê±°ëž˜ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ **ì‹ ë¢°í•  ìˆ˜ ìžˆëŠ” DW(Data Warehouse)**ì™€  í™œìš©ì„± ë†’ì€ Data Martë¥¼ êµ¬ì¶•í•˜ê³ ,  
ì´ë¥¼ í†µí•´ ì¡°ì§ êµ¬ì„±ì›ì´ **ì‰½ê²Œ ë°ì´í„°ë¥¼ ì°¾ê³ , ì‹ ë¢°í•˜ë©°, íš¨ìœ¨ì ìœ¼ë¡œ ë¶„ì„í•  ìˆ˜ ìžˆëŠ”  DAE ì‹¤ë¬´ ê¸°ë°˜ ë°ì´í„° í™˜ê²½**ì„ êµ¬í˜„í•œë‹¤.

---

## ëª©í‘œ

### 1. DW êµ¬ì¡° ì„¤ê³„ ë° êµ¬í˜„
- ë„ë©”ì¸ ì¤‘ì‹¬ì˜ ì •ê·œí™” í…Œì´ë¸” ì„¤ê³„ (Fact / Dim)
- ì‚¬ìš©ìž, ê±°ëž˜, ìƒí’ˆ, ì±„ë„, ì‹œê°„ ë“± í•µì‹¬ ì—”í„°í‹° êµ¬ì„±

### 2. Data Mart êµ¬ì¶• (OLAP)
- ê³ ê°ë³„ ì›”ë³„ ê±°ëž˜ ì¶”ì´
- ì±„ë„ë³„ ì´ìš©ìœ¨, ìƒí’ˆêµ°ë³„ ë§¤ì¶œ ìš”ì•½ ë“± KPIìš© ë§ˆíŠ¸ ìƒì„±

### 3. ETL ìžë™í™” íŒŒì´í”„ë¼ì¸ êµ¬ì„±
- Airflow DAG ê¸°ë°˜ `raw â†’ dw â†’ mart` ë³€í™˜ íë¦„ êµ¬ì„±
- ì£¼ê¸°ì  ë°±í•„, ë³€ê²½ì‚¬í•­ ë°˜ì˜ ë“± ìžë™í™” í¬í•¨

### 4. ë°ì´í„° í’ˆì§ˆ ê´€ë¦¬ ë° ëª¨ë‹ˆí„°ë§
- Great Expectations í™œìš© ë£° ê¸°ë°˜ ê²€ì¦ ì‹œìŠ¤í…œ êµ¬ì„±
- í’ˆì§ˆ ì‹¤íŒ¨ ë¦¬í¬íŠ¸ ìžë™í™” ë° ì•Œë¦¼ ë¡œì§ í¬í•¨

### 5. ì‹œê°í™” ë° ë¶„ì„ ì§€ì›
- Streamlit / Superset ì—°ê²°
- ë§ˆíŠ¸ ê¸°ë°˜ KPI íŠ¸ë Œë“œ ì‹œê°í™” ë° ì‚¬ìš©ìž ì¸í„°íŽ˜ì´ìŠ¤ ì œê³µ

### 6. ë¬¸ì„œí™” ë° ë°ì´í„° ì˜¤ë„ˆì‹­ ì²´ê³„ ìˆ˜ë¦½
- ERD, ë§ˆíŠ¸ ìŠ¤í‚¤ë§ˆ, í’ˆì§ˆ ë£°, ETL íë¦„ ë“± ì „ ê³¼ì • ë¬¸ì„œí™”

## ìŠ¤íƒ

| ì˜ì—­            | ë„êµ¬                                   | ì„ íƒ ì´ìœ  / ëª©ì                                                  | ì œì•½ì‚¬í•­ ë° ê³ ë ¤                             |
| ------------- | ------------------------------------ | ---------------------------------------------------------- | ------------------------------------- |
| **ë°ì´í„° ì €ìž¥ì†Œ**   | `HDFS` / `Parquet` / `DuckDB`        | ëŒ€ìš©ëŸ‰ ë¶„ì‚° íŒŒì¼ ì €ìž¥ (HDFS), ì»¬ëŸ¼í˜• ì••ì¶• ì €ìž¥ (Parquet), ê²½ëŸ‰ OLAP (DuckDB) | HDFSëŠ” í´ëŸ¬ìŠ¤í„° í•„ìš” / DuckDBëŠ” ë‹¨ì¼ ë¨¸ì‹  í•œê³„      |
| **ë°ì´í„° ì²˜ë¦¬**    | `Apache Spark (PySpark)`             | ëŒ€ê·œëª¨ ë³‘ë ¬ ë°ì´í„° ì²˜ë¦¬, ìœ ì—°í•œ ì „ì²˜ë¦¬, ì§‘ê³„, ë³€í™˜ ê°€ëŠ¥                          | ë¦¬ì†ŒìŠ¤ ìš”êµ¬ ë†’ìŒ, í´ëŸ¬ìŠ¤í„° í™˜ê²½ í•„ìš” (ë¡œì»¬ ì‹¤í–‰ì€ í•œê³„)     |
| **ETL ìžë™í™”**   | `Apache Airflow`                     | DAG ê¸°ë°˜ íŒŒì´í”„ë¼ì¸ ê´€ë¦¬, ìŠ¤ì¼€ì¤„ë§, ì˜ì¡´ì„± ì œì–´                              | ì…‹ì—… ë³µìž¡, ì˜¤ë²„í—¤ë“œ ìžˆìŒ (ê²½ëŸ‰ìš©ì€ Prefect ë“± ê³ ë ¤ ê°€ëŠ¥) |
| **ë°ì´í„° í’ˆì§ˆ ê´€ë¦¬** | `Great Expectations (Spark backend)` | ë£° ê¸°ë°˜ ë°ì´í„° ê²€ì¦, validation ìžë™í™”, ì•Œë¦¼ ì„¤ì • ê°€ëŠ¥                      | ë£° ìž‘ì„± ë‚œì´ë„ ë‹¤ì†Œ ìžˆìŒ, ì…‹ì—… í•„ìš”                 |
| **ë©”íƒ€ë°ì´í„° ê´€ë¦¬**  | `Hive Metastore`, `Markdown`         | í…Œì´ë¸” ì •ì˜ ì¼ê´€ì„± í™•ë³´ (Hive), ë¬¸ì„œí™” ê´€ë¦¬ (Markdown)                    | HiveëŠ” ì„¤ì¹˜ ë¶€ë‹´, Markdownì€ í˜‘ì—… ì œí•œ          |
| **ì‹œê°í™” & ë¶„ì„**  | `frontend`              | ëŒ€ì‹œë³´ë“œ êµ¬ì¶•, KPI ì‹œê°í™”, ë¶„ì„ê°€ ì¸í„°íŽ˜ì´ìŠ¤ ì œê³µ                             | next.js + aiì½”ë”©íˆ´  |

| í™˜ê²½ ì¡°ê±´        | ì œì•½ / ìš”êµ¬ ì¡°ê±´                            |
| ------------ | ------------------------------------- |
| í´ë¼ìš°ë“œ ì¸í”„ë¼ ì—†ìŒ  | Hadoop í´ëŸ¬ìŠ¤í„°, Impala ë“± ì‹¤ìŠµ ì–´ë ¤ì›€          |
| ë¡œì»¬ ë¨¸ì‹  ì œí•œ     | Spark ë¡œì»¬ ì‹¤í–‰ì€ ê°€ëŠ¥í•˜ë‚˜ ì„±ëŠ¥ ì œí•œ í¼             |
| t2-small í™˜ê²½ -> gcpë¡œ ë³€ê²½  | Airflow + Spark ë³‘í–‰ ì–´ë ¤ì›€    |

